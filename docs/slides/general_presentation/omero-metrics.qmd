# Why to monitor<br>microscope condition?

Microscopes are scientific measuring devices, so it is crucial to:

- _**Preserve**_ them in good condition
- _**Track**_ their current condition

>Every careful measurement in science is always given with the probable error \[...\]
>every observer admits that he is likely wrong,
>and knows about how much wrong he is likely to be.
>
><span class="quote_author">Bertrand Russell</span>

## Key objectives<br>when monitoring microscope condition

1. Detect performance issues early
2. Support core staff in diagnosing and responding
3. Provide evidence for discussions with manufacturers
4. Calibrate hardware
5. Deliver quality assurance data and metadata to:
   - stakeholders
   - users
   - scientific community

# When to monitor<br>microscope condition?
Microscope condition should be monitored at key times to ensure performance 
meets predefined specifications:

1. At **installation:** 
   - Confirm _acceptance_
   - Establish _baseline_
2. During **service life**:
   - After _periodic maintenance_ (by staff or external providers)
   - If performance _issues_ arise
   - When equipment or environment _changes_

# What is *omero-metrics*?

omero-metrics offers a complete solution for monitoring microscope performance.

- Built on the trusted MetroloJ-QC experience
- FAIR data management via OMERO
- User-friendly visualization through OMERO-web

# but also for reproducibility<br>and recognition of core facility staff

::: {.r-stack}
![](./media/value_cf_work_1.png){.fragment}

![](./media/value_cf_work_2.png){.fragment}
:::

# How is *omero-metrics* built?

![](./media/sw_infrastructure.png)

# Explore the Tools

::: {.image-hover-zone}

::: columns
::: {.column width="33%"}
<a href="https://github.com/MontpellierRessourcesImagerie/microscopemetrics-schema" target="_blank">
  <img src="../media/logo_microscopemetrics-schema.png" class="hover-img" alt="microscopemetrics-schema" />
</a>

**microscopemetrics-schema**
:::

::: {.column width="33%"}
[![](../media/logo_microscope-metrics.png){.hover-img}](https://github.com/MontpellierRessourcesImagerie/microscope-metrics){target="_blank"}

**microscope-metrics**
:::

::: {.column width="33%"}
[![](../media/logo_omero-metrics.png){.hover-img}](https://github.com/pro-dho/omero-metrics){target="_blank"}

**omero-metrics**
:::
:::
:::

# How does it work?

1. First time **configuration** of the analysis
2. **Import images** into OMERO in a well-defined structure
3. **Run** the analysis
4. **Visualize** the results in the dashboard

# 1. Core concepts
## 1.1. Embracing the ISA model

The **ISA model** organizes metadata into three levels:

- **Investigation / Group**: <br> the instrument/microscope
- **Study / Project**: <br> the analysis type (e.g., 20x field homogeneity)
- **Assay / Dataset**: <br> the measurements linked to raw images

# <span class='flow_big'>DEMO</span>

# 2. Configure the analysis

The first step, and only to be the first time, is to configure the analysis that you plan to run.

- Create a new OMERO Project for every analysis you want to perform
- For each Project/Analysis define its type
- Once the analysis type is chosen, define the parameters that will be used to run the analysis using a form
- Save the parameters

# 3. Import image data into OMERO

OMERO is a server-client platform for managing, visualizing, and analyzing microscope images and metadata.

## 3.1. Importing images

Acquired images are imported into OMERO following a well-defined structure.

::: {.r-stack}
![](./media/import_image_data_full.png){.fragment}

![](./media/import_image_data_group.png){.fragment}

![](./media/import_image_data_project.png){.fragment}

![](./media/import_image_data_dataset.png){.fragment}

![](./media/import_image_data_images.png){.fragment}
:::

# 4. Run the analysis

Now that the images are imported into OMERO, the next step is to run the analysis.

## 4.1. Run the analysis
If a dataset has not been analyzed yet, the user will have the possibility to trigger the analysis.

## 4.2. Parametrize the analysis
The user will be able to parametrize the analysis defaulting to the parameters defined in the configuration step.

# 5. Visualize the results

omero-metrics provides a dashboard to visualize the results of the analysis at different levels.

## 5.1. Group level
At the group level, the user will be able to see a summary of the status of the microscope.

## 5.2. Project level
At the project level, the user will be able to see the results of the analysis for all the datasets in the project.
The user will be able to browse, across time, the results of the analysis.

## 5.3. Dataset level
At the dataset level, the user will be able to see the results of the analysis for all the images in the dataset,
providing a more detailed view of the state of the microscope at that time.

## 5.4. Image level
At the image level, the user will be able to see the results of the analysis for a single image.

# Attributions

* FBI-core facility integration Cedric Mathews
* FBI-data: Guillaume Gay
* Project responsible: Julio Mateos Langerak
* Project developer: Oumou Dhmine, Julio Mateos Langerak
* WG-microscope-metrics: WGMM
    * Aurelien Dauphin
    * Sylvain Derossi
    * Audrey Salles
    * Erwan Grandgirard

# Documentation

Further documentation will come soon at [https://microscopemetrics.readthedocs.io](https://microscopemetrics.readthedocs.io)

# Licensing

The code is distributed as open source under GPL 3.0. The main reason being that it is the license used by the OME consortium.

# References

\[1\] Cédric Matthews and Fabrice P. Cordelieres, MetroloJ : an ImageJ plugin to help monitor microscopes' health, in ImageJ User & Developer Conference 2010 proceedings.

\[2\] Theer, P., Mongis, C. & Knop, M. PSFj: know your fluorescence microscope. Nat Methods 11, 981–982 (2014). [doi.org/10.1038/nmeth.3102](https://doi.org/10.1038/nmeth.3102)

\[3\] [argolight.com/measure-microscopes-performances-detect-issues-with-daybook](http://argolight.com/measure-microscopes-performances-detect-issues-with-daybook/)
